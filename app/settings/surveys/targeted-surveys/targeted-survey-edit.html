<div class="mode-context">

    <header class="mode-context-header">
        <ol class="breadcrumbs">
            <li><a href="/" ng-controller="navigation as nav">{{nav.site.name}}</a></li>
            <li><a href="/settings" translate>app.settings</a></li>
            <li><a href="/settings/surveys" translate>app.surveys</a></li>
        </ol>

        <h1 class="mode-context-title">Surveys</h1>
        <a ui-sref="settings.surveys.create">< <span translate="settings.send_crowdsourced"></span></a>
    </header>

    <span class="mode-context-trigger">
        <svg class="iconic">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/img/iconic-sprite.svg#chevron-bottom"></use>
        </svg>
        <span class="label hidden">Show more/less</span>
    </span>

    <div class="mode-context-body">
    </div>
</div>

<main role="main">
    <div class="toolbar">
    </div>

    <div class="main-col">
        <div ng-show="targetedSurveysEnabled" class="form-sheet">
            <div class="form-sheet-summary">
                <h2 class="form-sheet-title">Create a new targeted survey</h2>
                <p>Send questions via SMS to a list of those phone numbers.</p>
            </div>

            <div class="stepper">
                <div class="stepper-item" ng-class="{'active': isActiveStep(1), 'disabled': !isActiveStep(1)}">
                    <h2 class="stepper-heading" data-accordion-trigger>
                        <span class="stepper-badge">1</span>
                        Name your survey
                    </h2>
                    <form name="stepOne">
                        <div class="form-field" ng-show="isActiveStep(1)">
                            <label>Survey name</label>
                            <input type="text" name="name" ng-minlength="2" ng-model="name" required placeholder="Name...">
                        </div>
                        <div ng-hide="isActiveStep(1)">
                            <h2 class=form-label>Survey Name</h2>
                            <p>{{name}}</p>  
                        </div>
                                          
                        <div class="form-field" ng-show="isActiveStep(1)">
                            <label>Survey description</label>
                            <textarea name="description" ng-model="description" required placeholder="Describe your survey..."></textarea>  
                        </div>
                        <div ng-hide="isActiveStep(1)">
                            <h2 class=form-label>Survey Description</h2>
                            <p>{{description}}</p>
                        </div>
                        <div ng-show="isActiveStep(1)">
                            <div class="form-field">
                                <div class="button-group">
                                    <button class="button-alpha" ng-disabled="!isStepComplete(stepOne)" ng-click="completeStepOne()">Continue</button>
                                </div>
                            </div>
                        </div>
                    </form>    
                </div>

                <div class="stepper-item" ng-class="{'active': isActiveStep(2), 'disabled': !isActiveStep(2)}">
                    <h2 class="stepper-heading">
                            <span class="stepper-badge">2</span>
                                Choose your audience
                    </h2>
                    <form name="stepTwo">
                        <div ng-show="isActiveStep(2)">
                            <div class="form-field">
                                <div class="button-group">
                                      <button class="button-alpha" ng-disabled="!isStepComplete(stepTwo)" ng-click="completeStepTwo()">Continue</button>
                                    <button class="button" ng-click="previousStep()">Back</button>
                                </div>
                            </div>
                        </div>
                    </form>    
                </div>

                <div class="stepper-item" ng-class="{'active': isActiveStep(3), 'disabled': !isActiveStep(3)}">
                    <h2 class="stepper-heading">
                            <span class="stepper-badge">3</span>
                                Add your questions
                    </h2>
                    <form name="stepThree">
                        <div ng-show="isActiveStep(3)">
                             <div class="form-field">
                                <div class="button-group">
                                    <button class="button-alpha" ng-disabled="!isStepComplete(stepThree)" ng-click="completeStepThree()">Continue</button>
                                    <button class="button" ng-click="previousStep()">Back</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="stepper-item" ng-class="{'active': isActiveStep(4), 'disabled': !isActiveStep(4)}">
                    <h2 class="stepper-heading">
                        <span class="stepper-badge">4</span>
                                Publish
                    </h2>
                    <div ng-show="isActiveStep(4)">
                              <div class="button-group">
                                <button class="button-alpha"  ng-disabled="!isStepComplete(4)" ng-click="publish()">Publish</button>
                                <button class="button" ng-click="previousStep()">Back</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</main>
