<div>
    <!-- Enable 2fa for user -->
    <div class="actions-toggle">
        <button ng-show="!user.google2fa_enabled" type="button" id="google2fa-enable" class="button-secondary" ng-click="start2faEnable()">
            <span class="icon-left fa-pencil" translate>
                google2fa.enable
            </span>
        </button>

        <button ng-show="user.google2fa_enabled" type="button" id="google2fa-update" class="button-secondary" ng-click="start2faEnable()" translate>google2fa.update</button>
        <button ng-show="user.google2fa_enabled" type="button" id="google2fa-disable" class="button-destructive" ng-click="update2faDisable()" translate>google2fa.disable</button>

    </div>

    <modal visible="showEnableModal" title="google2fa.modal_title">
        <div>
            <div ng-show="step=='guide'" translation>
                google2fa.steps_message
            <div>
            
            <div ng-show="step=='qr_verify'" translation>
                <div ng-show="notVerified" translate>
                    google2fa.not_verified_message
                </div>
                <img ng-src="{{user.google2fa_url}}" />
                <input type="text" placeholder="Google Authenticator code" ng-model="google2fa_secret">
            </div>

            <div ng-show="step=='verified'" translaton>
                google2fa.completed_message
            </div>

            <div class="modal-submit">
                <button ng-show="step==='guide'" type="button" id="google2fa-modal-next-step" class="button-primary" ng-click="setup()" translate>google2fa.proceed</button>

                <button ng-show="step==='verify'" type="button" id="google2fa-modal-finish" class="button-primary" ng-click="finish()" translate>google2fa.verify</button>

                <button ng-show="step=='verified'" type="button" id="google2fa-modal-finish" class="button-primary" ng-click="finish()" translate>google2fa.finish</button>

                <button type="button" id="google2fa-modal-cancel" class="button-primary" ng-click="cancel()" translate>notify.generic.cancel</button>
            </div> 
        </div>
    </modal>
</div>
