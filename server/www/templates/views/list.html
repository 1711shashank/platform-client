<div class="main-col">

    <div class="listing timeline" ng-class="{ 'toolbar-active' : selectedPosts.length > 0 }">

        <!-- todo: group by dates -->
        <h2 class="listing-heading-section" ng-repeat-start="(timeAgo, posts) in groupedPosts">
            {{ timeAgo }}
        </h2>

        <post-card ng-repeat-end
            ng-repeat="post in posts"
            can-select="userHasBulkActionPermissions()"
            post="post"
            selected-posts="selectedPosts"
        >
        </post-card>

        <listing-toolbar
            delete-func="deletePosts()"
            entities="posts"
            selected-set="selectedPosts"
            collection-enabled="true"
            ></listing-toolbar>

        <!-- todo: check style -->
        <div class="list-item" ng-if="posts.length == 0 && hasFilters()">
            <h5 translate>post.no_search_results</h5>
        </div>

        <!-- todo: check style -->
        <div class="list-item" ng-if="posts.length == 0 && ! hasFilters()">
            <h5 translate>post.no_posts_yet</h5>
            <br />
            <a class="button button-create" ng-href="/posts/create">
                <span translate>post.add_first_post</span>
            </a>
        </div>

    </div> <!-- /.listing.timeline -->

    <pagination ng-show="posts.length > 0" ng-model="currentPage" total-items="totalItems" ng-change="pageChanged()" max-size="5" rotate="false"></pagination>

</div>
